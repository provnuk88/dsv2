# Инструкция по установке и настройке Discord-бота Synergy Guild

## Требования
- Node.js 16.9.0 или выше
- MongoDB (локальная установка или облачный сервис MongoDB Atlas)
- Discord аккаунт и права на создание приложений

## Шаг 1: Настройка Discord приложения
1. Перейдите на [Discord Developer Portal](https://discord.com/developers/applications)
2. Нажмите кнопку "New Application" и введите название для вашего бота (например, "Synergy Guild Bot")
3. Перейдите во вкладку "Bot" и нажмите "Add Bot"
4. В разделе "Privileged Gateway Intents" включите все три интента:
   - Presence Intent
   - Server Members Intent
   - Message Content Intent
5. Скопируйте токен бота (кнопка "Copy" под "TOKEN")
6. Перейдите во вкладку "OAuth2" -> "URL Generator"
7. Выберите следующие scopes:
   - bot
   - applications.commands
8. В разделе "Bot Permissions" выберите необходимые права:
   - Administrator (или более детальные права по вашему усмотрению)
9. Скопируйте сгенерированную ссылку и используйте её для добавления бота на ваш сервер

## Шаг 2: Настройка MongoDB
1. Установите MongoDB локально или создайте кластер в [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. Создайте базу данных с названием "synergy-guild"
3. Получите строку подключения к вашей базе данных

## Шаг 3: Настройка проекта
1. Распакуйте архив с исходным кодом бота в удобное место
2. Откройте терминал и перейдите в папку с проектом
3. Установите зависимости:
   ```bash
   npm install
   ```
4. Создайте файл `.env` в корневой папке проекта со следующим содержимым:
   ```
   BOT_TOKEN=ваш_токен_бота
   MONGODB_URI=ваша_строка_подключения_к_mongodb
   CLIENT_ID=id_вашего_приложения_discord
   GUILD_ID=id_вашего_сервера_discord
   ADMIN_ROLE_ID=id_роли_администратора
   LOG_CHANNEL_ID=id_канала_для_логов
   ```
   Замените значения на ваши собственные.

## Шаг 4: Регистрация команд
1. Для регистрации slash-команд выполните:
   ```bash
   node src/deploy-commands.js
   ```

## Шаг 5: Запуск бота
1. Запустите бота:
   ```bash
   node src/index.js
   ```
2. Для продакшн-окружения рекомендуется использовать PM2:
   ```bash
   npm install -g pm2
   pm2 start src/index.js --name synergy-bot
   ```

## Использование бота
После успешной установки и запуска бота, вы можете использовать следующие команды:

### Команды для пользователей
- `/help` - Показать список доступных команд
- `/profile edit` - Создать или редактировать профиль
- `/profile view` - Просмотреть свой профиль
- `/register` - Зарегистрироваться на мероприятие
- `/status` - Проверить статус регистрации на мероприятия

### Команды для администраторов
- `/createevent` - Создать новое мероприятие
- `/manageevents` - Управление существующими мероприятиями
- `/manageusers` - Управление пользователями
- `/exportdata` - Экспорт данных
- `/announce` - Отправить объявление участникам мероприятия

## Функционал ключей доступа
Подробная информация о функционале ключей доступа находится в файле `docs/access-keys-documentation.md`.

## Устранение неполадок
- Проверьте правильность токена бота и строки подключения к MongoDB в файле `.env`
- Убедитесь, что у бота есть все необходимые права на сервере
- Проверьте логи в папке `logs` для выявления ошибок

## Поддержка
По вопросам поддержки обращайтесь к разработчикам бота или создавайте issue в репозитории проекта.
